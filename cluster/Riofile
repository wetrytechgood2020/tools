services:
  elasticsearch:
    image: docker.elastic.co/elasticsearch/elasticsearch:7.6.2
    env:
    - discovery.type=single-node
    ports:
    - 9200/http
    metadata:
     namespace: tools
  kibana:
    image: docker.elastic.co/kibana/kibana:7.6.2
    metadata:
     namespace: tools
    ports:
    - 5601/http
  apm-server:
    image: docker.elastic.co/apm/apm-server:7.6.2
    metadata:
     namespace: tools
    env:
    - output.elasticsearch.hosts=["elasticsearch:9200"]
    ports:
    - 8200/http 
  heartbeat:  
    image: docker.elastic.co/beats/heartbeat:7.6.2
    metadata:
     namespace: tools
    env:
    - output.elasticsearch.hosts=["elasticsearch:9200"]
    - setup.kibana.host=kibana:5601       